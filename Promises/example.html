<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promises</title>
  </head>
  <body>
    <h1>Introduction to Promises</h1>
  </body>
  <script>
    let is_shop_open=true;
    let order=(time,action)=>{
       return  new Promise((resolve,reject)=>{
       if(is_shop_open){
       setTimeout(()=>{
		   resolve(action());
       },time)
       }
       else{
       reject(console.log("Sorry!,Our Shop has Been Closed Now"))
       }
       
       }
    )
	}
	order(2000,()=>console.log("Step-1 takes 2s"))
	.then(()=>{
	  return order(1000,()=>console.log("Step-2 takes 1s"))
	})
	.then(()=>{
	  return order(4000,()=>console.log("Step-3 takes 4s"))
	})
	.catch(()=>console.log("Sorry!,Our Shop has Been Closed Now"))
	
	.finally(()=>{
	   console.log("End of the day,shop is closed");
	})
  </script>
</html>
